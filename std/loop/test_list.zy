<?php

// 测试 List 类的基本功能

// 创建不同类型的 List 实例
$intList = new List<int>();
$stringList = new List<string>();
$mixedList = new List();

echo "=== 测试 List<int> ===\n";

// 测试 List<int>
$intList->add(1);
$intList->add(2);
$intList->add(3);

echo "List 大小: " . $intList->size() . "\n";
echo "是否为空: " . ($intList->isEmpty() ? "是" : "否") . "\n";

// 获取元素
echo "索引 0 的元素: " . $intList->get(0) . "\n";
echo "索引 1 的元素: " . $intList->get(1) . "\n";

// 设置元素
$intList->set(1, 10);
echo "设置后索引 1 的元素: " . $intList->get(1) . "\n";

// 检查包含
echo "是否包含 3: " . ($intList->contains(3) ? "是" : "否") . "\n";
echo "是否包含 5: " . ($intList->contains(5) ? "是" : "否") . "\n";

// 获取索引
echo "元素 3 的索引: " . $intList->indexOf(3) . "\n";

// 迭代器测试
echo "\n=== 测试迭代器 ===\n";

$intList->rewind();
while ($intList->valid()) {
    echo "键: " . $intList->key() . ", 值: " . $intList->current() . "\n";
    $intList->next();
}

// 转换为数组
echo "\n=== 转换为数组 ===\n";
$array = $intList->toArray();
echo "数组长度: " . count($array) . "\n";

// 移除元素测试
echo "\n=== 测试移除元素 ===\n";
echo "移除前大小: " . $intList->size() . "\n";
$intList->remove(2);
echo "移除后大小: " . $intList->size() . "\n";

// 按索引移除
$intList->removeAt(0);
echo "按索引移除后大小: " . $intList->size() . "\n";

// 清空测试
echo "\n=== 测试清空 ===\n";
$intList->clear();
echo "清空后大小: " . $intList->size() . "\n";
echo "清空后是否为空: " . ($intList->isEmpty() ? "是" : "否") . "\n";

echo "\n=== 测试 List<string> ===\n";

// 测试 List<string>
$stringList->add("Hello");
$stringList->add("World");
$stringList->add("Origami");

echo "List 大小: " . $stringList->size() . "\n";

// 迭代器测试
echo "\n=== 测试字符串迭代器 ===\n";

$stringList->rewind();
while ($stringList->valid()) {
    echo "键: " . $stringList->key() . ", 值: " . $stringList->current() . "\n";
    $stringList->next();
}

echo "\n=== 测试完成 ===\n";
